{% extends 'base.html' %}

{% load static %}

{% block css %}
<!-- third party css -->
<link href="{% static 'libs/datatables/dataTables.bootstrap4.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'libs/datatables/responsive.bootstrap4.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'libs/datatables/buttons.bootstrap4.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'libs/datatables/select.bootstrap4.css' %}" rel="stylesheet" type="text/css" />
<!-- third party css end -->

<!-- Footable css -->
<link href="{% static 'libs/footable/footable.core.min.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}
<!-- ============================================================== -->
<!-- Start Page Content here -->
<!-- ============================================================== -->

<div class="container">
    <h1>Daftar Task</h1>

        <div>
            {% if messages %}
        
              
            {% for message in messages %}
              
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        
            <span aria-hidden="true">&times;</span>
                    
            </button>
                    
            {{ message | safe }}
                
            </div>
                
            {% endfor %}
            
            {% endif %}
            </div>
            
            <!-- tombol untuk ke halaman tambah task -->
            <div>
                
            <a href="{% url 'todo:create'  %}" class="btn btn-success">Tambah Baru</a>
        </div>

    <br>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th width="5%">ID</th>
                <th width="20%">Judul</th>
                <th width="45%">Deskripsi</th>
                <th width="5%">Status</th>
                <th width="20%">Aksi</th>
            </tr>
        </thead>
        <tbody>
          <!-- daftar task-->
          {% if tasks %}
            {% for task in tasks %}
            <tr>
                <td>{{ task.id }}</td>
                <td>{{ task.title }}</td>
                <td>{{ task.description }}</td>
                <td>{{ task.status }}</td>
                <td>
                    <a href="{% url 'todo:detail' task.id %}" class="btn btn-warning btn-sm">detail</a>
                    <a href="{% url 'todo:update' task.id %}" class="btn btn-primary btn-sm">ubah</a>
                    <a href="{% url 'todo:delete' task.id %}" class="btn btn-danger btn-sm" onclick="return confirm('Apakah yakin akan menghapus task ini?')">hapus</a>
                </td>
            </tr>
            {% endfor %}
          {% else %}
            <tr>
              <td colspan="5">Data tidak ditemukan.</td>
            </tr>
          {% endif %}
        </tbody>
    </table>
</div>

<!-- ============================================================== -->
<!-- End Page content -->
<!-- ============================================================== -->

{% endblock %}

{% block js %}

<!-- third party js -->
<script src="{% static 'libs/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'libs/datatables/dataTables.bootstrap4.js' %}"></script>
<script src="{% static 'libs/datatables/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'libs/datatables/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'libs/datatables/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'libs/datatables/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'libs/datatables/buttons.html5.min.js' %}"></script>
<script src="{% static 'libs/datatables/buttons.flash.min.js' %}"></script>
<script src="{% static 'libs/datatables/buttons.print.min.js' %}"></script>
<script src="{% static 'libs/datatables/dataTables.keyTable.min.js' %}"></script>
<script src="{% static 'libs/datatables/dataTables.select.min.js' %}"></script>
<script src="{% static 'libs/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static 'libs/pdfmake/vfs_fonts.js' %}"></script>
<!-- third party js ends -->

<!-- Datatables init -->
<script src="{% static 'js/pages/datatables.init.js' %}"></script>

{% endblock %}